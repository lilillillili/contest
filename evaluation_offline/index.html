<html>
<head>
  <style>
    /* ---------------------------------- */
    /* ğŸ¨ ê¸°ë³¸ ìŠ¤íƒ€ì¼ (ë°ìŠ¤í¬íƒ‘) */
    /* ---------------------------------- */
    body { font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif; margin: 20px; }
    h2 { padding-bottom: 10px; border-bottom: 2px solid #333; }
    table { border-collapse: collapse; width: 100%; table-layout: fixed; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: center; height: 40px; }
    th { background-color: #f4f4f4; }
    td:nth-child(1), td:nth-child(2), td:nth-child(3), td:nth-child(4) {
      background-color: #fafafa;
      font-weight: bold;
      font-size: 15px;
    }
    input[type="number"] { 
      width: 95%; 
      padding: 8px; 
      font-size: 16px; 
      box-sizing: border-box;
      text-align: center;
    }
    th:last-child, td:last-child { width: 10%; } 
    td span { font-weight: bold; font-size: 16px; } 
    button { 
      padding: 12px 25px; 
      background-color: #4d79ff; 
      color: white; 
      border: none; 
      cursor: pointer; 
      font-size: 16px; 
      font-weight: bold; 
      margin-top: 15px;
    }
    button:hover { background-color: #3a5bcc; }
    #message { margin-top: 15px; font-weight: bold; font-size: 16px; }
    .judge-section { margin-bottom: 15px; }
    .judge-section label { font-size: 16px; font-weight: bold; }
    .judge-section input { width: 250px; text-align: left; padding: 8px; font-size: 15px; }

    /* ---------------------------------- */
    /* ğŸ“± ëª¨ë°”ì¼ ë°˜ì‘í˜• 'ë§ˆë²•' ì½”ë“œ  */
    /* (í™”ë©´ ë„ˆë¹„ê°€ 768pxë³´ë‹¤ ì¢ì•„ì§€ë©´ ì‘ë™) */
    /* ---------------------------------- */
    @media (max-width: 768px) {
      /* 1. ë°ìŠ¤í¬íƒ‘ìš© ì›ë³¸ í—¤ë”(ì œëª© ì¤„) ìˆ¨ê¸°ê¸° */
      table thead {
        display: none;
      }
      
      /* 2. í‘œì˜ ëª¨ë“  ìš”ì†Œë¥¼ ì„¸ë¡œë¡œ ìŒ“ê¸°(Block) */
      table, tbody, tr, td {
        display: block;
        width: 100%;
        box-sizing: border-box; /* ë„ˆë¹„ ê³„ì‚°ì´ ê¼¬ì´ì§€ ì•Šê²Œ í•¨ */
      }
      
      /* 3. í•œ 'ì¤„(tr)'ì„ í•˜ë‚˜ì˜ 'ì¹´ë“œ'ì²˜ëŸ¼ ë³´ì´ê²Œ í•¨ */
      tbody tr {
        margin-bottom: 15px;
        border: 2px solid #4d79ff; /* íŒŒë€ìƒ‰ í…Œë‘ë¦¬ë¡œ ì¹´ë“œ êµ¬ë¶„ */
        padding: 5px;
      }
      
      /* 4. ê° 'ì¹¸(td)'ì˜ ìŠ¤íƒ€ì¼ ë³€ê²½ */
      tbody td {
        padding-left: 45%;  /* ì™¼ìª½ì— 'ë¼ë²¨'ì´ ë“¤ì–´ê°ˆ ê³µê°„ í™•ë³´ */
        text-align: right;  /* ê°’ì€ ì˜¤ë¥¸ìª½ ì •ë ¬ */
        position: relative; /* 'ë¼ë²¨'ì˜ ê¸°ì¤€ì ì´ ë¨ */
        height: auto;
        border: none;
        border-bottom: 1px dotted #ccc; /* ê° í•­ëª©ì„ ì ì„ ìœ¼ë¡œ êµ¬ë¶„ */
      }
      
      /* 5. ê° ì¹´ë“œì˜ ë§ˆì§€ë§‰ ì¹¸ì€ ì ì„  ì—†ìŒ */
      tbody td:last-child {
        border-bottom: 0;
      }
      
      /* 6. ğŸª„ 'data-label'ì„ ê°€ì ¸ì™€ì„œ ì™¼ìª½ì— í—¤ë”ì²˜ëŸ¼ ë¶™ì—¬ì£¼ê¸° */
      tbody td:before {
        /* HTMLì˜ 'data-label' ì†ì„± ê°’ì„ ê°€ì ¸ì˜´ */
        content: attr(data-label); 
        position: absolute;
        left: 10px;
        width: calc(45% - 15px); /* íŒ¨ë”© ëº€ ê°’ */
        text-align: left;
        font-weight: bold;
        white-space: nowrap; /* ë¼ë²¨ì´ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šê²Œ í•¨ */
        font-size: 14px;
        color: #333;
      }

      /* 7. ì…ë ¥ì¹¸ë“¤ 100% ë„ˆë¹„ë¡œ */
      input[type="number"], input[type="text"], select {
          width: 100%;
          font-size: 16px;
      }
      
      /* 8. ë¯¸ë¦¬ ì±„ì›Œì§„ ì¹¸ë“¤ ìŠ¤íƒ€ì¼ ëª¨ë°”ì¼ìš©ìœ¼ë¡œ ì´ˆê¸°í™” */
      td:nth-child(1), td:nth-child(2), td:nth-child(3), td:nth-child(4) {
        background-color: transparent;
        font-weight: normal;
        text-align: right;
      }
    }
  </style>
</head>
<body>

  <h2>ì‹¬ì‚¬ ì ìˆ˜ ì…ë ¥ (ë°˜ì‘í˜•)</h2>
  
  <form id="scoreForm">
    <div class="judge-section">
      <label for="judgeName">ì‹¬ì‚¬ìœ„ì› ì„±ëª…: </label>
      <input type="text" id="judgeNameInput" name="judgeName" required>
    </div>

    <table>
      <thead>
        <tr>
          <th>êµ¬ë¶„</th>
          <th>ë‹¨ì²´ëª…</th>
          <th>ëŒ€í‘œì</th>
          <th>ì§ìœ„</th>
          <th>ì—°êµ¬ê°œë°œì‹¤ì <br>(-30)</th>
          <th>í˜‘ë ¥ì°¸ì—¬ë„<br>(-30)</th>
          <th>êµ­ê°€ê²½ì œê¸°ì—¬ë„<br>(-40)</th>
          <th>í•©ê³„<br>(-100)</th>
        </tr>
      </thead>
      <tbody>
        <tr data-label="1ë²ˆ íŒ€">
          <td data-label="êµ¬ë¶„">
            í•™ê³„
            <input type="hidden" name="group1_gubun" value="í•™ê³„">
          </td>
          <td data-label="ë‹¨ì²´ëª…">
            ìŠ¤íŠ¸ë ˆì´í‚¤ì¦ˆ
            <input type="hidden" name="group1_name" value="í…ŒìŠ¤íŠ¸">
          </td>
          <td data-label="ëŒ€í‘œì">
            í•„ë¦­ìŠ¤
            <input type="hidden" name="group1_rep" value="ìµœì†¡ì†¡">
          </td>
          <td data-label="ì§ìœ„">
            ì–¼êµ´ì€ì„ ë…€ëª¸ì€ë‚˜ë¬´ê¾¼
            <input type="hidden" name="group1_pos" value="ì—°êµ¬ì›">
          </td>
          <td data-label="ì—°êµ¬ê°œë°œì‹¤ì (-30)"><input type="number" name="group1_score1" min="0" max="30" oninput="calculateTotal(1)" required></td>
          <td data-label="í˜‘ë ¥ì°¸ì—¬ë„(-30)"><input type="number" name="group1_score2" min="0" max="30" oninput="calculateTotal(1)" required></td>
          <td data-label="êµ­ê°€ê²½ì œê¸°ì—¬ë„(-40)"><input type="number" name="group1_score3" min="0" max="40" oninput="calculateTotal(1)" required></td>
          <td data-label="í•©ê³„(-100)"><span id="group1_total">0</span></td>
        </tr>
        
        <tr data-label="2ë²ˆ íŒ€">
          <td data-label="êµ¬ë¶„">
            ì‚°ì—…ê³„
            <input type="hidden" name="group2_gubun" value="ì‚°ì—…ê³„">
          </td>
          <td data-label="ë‹¨ì²´ëª…">
            ìŠ¤í‚¤ì¦ˆ
            <input type="hidden" name="group2_name" value="ì‹¬ì‚¬í‘œ">
          </td>
          <td data-label="ëŒ€í‘œì">
            í•œì§€ì„±
            <input type="hidden" name="group2_rep" value="ìµœì†¡ì§„">
          </td>
          <td data-label="ì§ìœ„">
            ì˜¬ë¼ìš´ë“œ ë˜í¼
            <input type="hidden" name="group2_pos" value="ì„ ì„">
          </td>
          <td data-label="ì—°êµ¬ê°œë°œì‹¤ì (-30)"><input type="number" name="group2_score1" min="0" max="30" oninput="calculateTotal(2)" required></td>
          <td data-label="í˜‘ë ¥ì°¸ì—¬ë„(-30)"><input type="number" name="group2_score2" min="0" max="30" oninput="calculateTotal(2)" required></td>
          <td data-label="êµ­ê°€ê²½ì œê¸°ì—¬ë„(-40)"><input type="number" name="group2_score3" min="0" max="40" oninput="calculateTotal(2)" required></td>
          <td data-label="í•©ê³„(-100)"><span id="group2_total">0</span></td>
        </tr>
        
        <tr data-label="3ë²ˆ íŒ€">
          <td data-label="êµ¬ë¶„">
            ì—°êµ¬ì†Œ
            <input type="hidden" name="group3_gubun" value="ì‚°ì—…ê³„">
          </td>
          <td data-label="ë‹¨ì²´ëª…">
            SKZ
            <input type="hidden" name="group3_name" value="ë©”ì´ì»¤">
          </td>
          <td data-label="ëŒ€í‘œì">
            ê¹€ìŠ¹ë¯¼
            <input type="hidden" name="group3_rep" value="ì§„ì„±ìµœ">
          </td>
          <td data-label="ì§ìœ„">
            ë©”ë³´ëª…ì°½ê°•ì¥
            <input type="hidden" name="group3_pos" value="ì±…ì„">
          </td>
          <td data-label="ì—°êµ¬ê°œë°œì‹¤ì (-30)"><input type="number" name="group3_score1" min="0" max="30" oninput="calculateTotal(3)" required></td>
          <td data-label="í˜‘ë ¥ì°¸ì—¬ë„(-30)"><input type="number" name="group3_score2" min="0" max="30" oninput="calculateTotal(3)" required></td>
          <td data-label="êµ­ê°€ê²½ì œê¸°ì—¬ë„(-40)"><input type="number" name="group3_score3" min="0" max="40" oninput="calculateTotal(3)" required></td>
          <td data-label="í•©ê³„(-100)"><span id="group3_total">0</span></td>
        </tr>
      </tbody>
    </table>
    <br>
    <button type="submit">ì „ì²´ ì ìˆ˜ ì œì¶œí•˜ê¸°</button>
  </form>
  
  <div id="message"></div>

  <script>
    // 'í•©ê³„' ê³„ì‚° ìŠ¤í¬ë¦½íŠ¸
    function calculateTotal(rowNum) {
      var prefix = "group" + rowNum; 
      var s1 = parseFloat(document.querySelector("input[name='" + prefix + "_score1']").value) || 0;
      var s2 = parseFloat(document.querySelector("input[name='" + prefix + "_score2']").value) || 0;
      var s3 = parseFloat(document.querySelector("input[name='" + prefix + "_score3']").value) || 0;
      var total = s1 + s2 + s3;
      document.getElementById(prefix + "_total").textContent = total;
    }

    // í¼ 'ì œì¶œ' ìŠ¤í¬ë¦½íŠ¸ 
    document.getElementById("scoreForm").addEventListener("submit", function(e) {
      e.preventDefault(); 
      var messageDiv = document.getElementById("message");
      messageDiv.textContent = "ì œì¶œ ì¤‘ì…ë‹ˆë‹¤... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.";
      messageDiv.style.color = "blue";
      
      // âš ï¸âš ï¸âš ï¸ ì—¬ê¸°ì— 'ì›¹ ì•± URL'ì„ ê¼­ ë„£ìœ¼ì„¸ìš”! âš ï¸âš ï¸âš ï¸
      var webAppUrl = "https://script.google.com/macros/s/AKfycbzF7IQLjznDmCyLxc0Iaj-D3FYJPcvM7j6yoNONMADDF4sw_8YgfxJfQvDPqwEnkxKP/exec"; 
      
      var formData = new FormData(this); 
      
      fetch(webAppUrl, {
        method: "POST",
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if(data.result === "success") {
          messageDiv.textContent = "âœ” ì ìˆ˜ ì œì¶œì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!";
          messageDiv.style.color = "green";
        } else {
          messageDiv.textContent = "âŒ ì˜¤ë¥˜ ë°œìƒ: " + data.message;
          messageDiv.style.color = "red";
        }
      })
      .catch(error => {
        messageDiv.textContent = "âŒ ì „ì†¡ ì˜¤ë¥˜: " + error;
        messageDiv.style.color = "red";
      });
    });
  </script>
</body>
</html>